<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

  <joint name="world_to_base" type="fixed">
    <parent link="world"/>
    <child link="base_link"/>
  </joint>
  
  <!-- fixed: gripper_link -> gripper_frame_link -->
  <joint name="gripper_frame_joint" type="fixed">
    <origin xyz="-0.0079 -0.000218121 -0.0981274" rpy="0 3.14159 0"/>
    <parent link="gripper_link"/>
    <child  link="gripper_frame_link"/>
  </joint>

  <!-- gripper (gripper_link -> moving_jaw_so101_v1_link) -->
  <joint name="gripper" type="revolute">
    <origin xyz="0.0202 0.0188 -0.0234" rpy="1.5708 -5.24284e-08 -1.41553e-15"/>
    <parent link="gripper_link"/>
    <child  link="moving_jaw_so101_v1_link"/>
    <axis xyz="0 0 1"/>
    <limit effort="${default_effort}" velocity="${default_velocity}" lower="-0.174533" upper="1.74533"/>
  </joint>

  <!-- wrist_roll (wrist_link -> gripper_link) -->
  <joint name="wrist_roll" type="revolute">
    <origin xyz="5.55112e-17 -0.0611 0.0181" rpy="1.5708 0.0486795 3.14159"/>
    <parent link="wrist_link"/>
    <child  link="gripper_link"/>
    <axis xyz="0 0 1"/>
    <limit effort="${default_effort}" velocity="${default_velocity}" lower="-2.74385" upper="2.84121"/>
  </joint>

  <!-- wrist_flex (lower_arm_link -> wrist_link) -->
  <joint name="wrist_flex" type="revolute">
    <origin xyz="-0.1349 0.0052 3.62355e-17" rpy="4.02456e-15 8.67362e-16 -1.5708"/>
    <parent link="lower_arm_link"/>
    <child  link="wrist_link"/>
    <axis xyz="0 0 1"/>
    <limit effort="${default_effort}" velocity="${default_velocity}" lower="-1.65806" upper="1.65806"/>
  </joint>

  <!-- elbow_flex (upper_arm_link -> lower_arm_link) -->
  <!-- Note: 5-degree calibration offset reflected in limits -->
  <joint name="elbow_flex" type="revolute">
    <origin xyz="-0.11257 -0.028 1.73763e-16" rpy="-3.63608e-16 8.74301e-16 1.5708"/>
    <parent link="upper_arm_link"/>
    <child  link="lower_arm_link"/>
    <axis xyz="0 0 1"/>
    <limit effort="${default_effort}" velocity="${default_velocity}" lower="-1.69" upper="1.69"/>
  </joint>

  <!-- shoulder_lift (shoulder_link -> upper_arm_link) -->
  <joint name="shoulder_lift" type="revolute">
    <origin xyz="-0.0303992 -0.0182778 -0.0542" rpy="-1.5708 -1.5708 0"/>
    <parent link="shoulder_link"/>
    <child  link="upper_arm_link"/>
    <axis xyz="0 0 1"/>
    <limit effort="${default_effort}" velocity="${default_velocity}" lower="-1.74533" upper="1.74533"/>
  </joint>

  <!-- shoulder_pan (base_link -> shoulder_link) -->
  <joint name="shoulder_pan" type="revolute">
    <origin xyz="0.0388353 -8.97657e-09 0.0624" rpy="3.14159 4.18253e-17 -3.14159"/>
    <parent link="base_link"/>
    <child  link="shoulder_link"/>
    <axis xyz="0 0 1"/>
    <limit effort="${default_effort}" velocity="${default_velocity}" lower="-1.91986" upper="1.91986"/>
  </joint>

</robot>
